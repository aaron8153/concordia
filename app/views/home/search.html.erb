<div class="row">
  <div class="col-md-12">
    <h1>Book Search</h1>
    <%= form_for_filterrific @filterrific do |f| %>
        <div>
          Search by Book Name/Isbn
          <%# give the search field the 'filterrific-periodically-observed' class for live updates %>
          <%= f.text_field(:search_query, class: 'filterrific-periodically-observed') %>
        </div>

        <div>
          Library
          <%= f.select(:with_library_id, @filterrific.select_options[:with_library_id], { include_blank: '- All Libraries -' }) %>
        </div>

        <div>
          User
          <%= f.select(:with_user_id, @filterrific.select_options[:with_user_id], { include_blank: '- All Users -' }) %>
        </div>

        <div>
          Sorted by
          <%= f.select(:sorted_by, @filterrific.select_options[:sorted_by]) %>
        </div>

        <div>
          <%= link_to('Reset filters', reset_filterrific_url) %>
        </div>
        <%# add an automated spinner to your form when the list is refreshed %>
        <%= render_filterrific_spinner %>
    <% end %>

    <%= render(partial: 'books/list', locals: { books: @books, users: @users, libraries: @libraries }) %>
  </div>
</div>